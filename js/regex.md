# 정규 표현식

- 일반 문자열 찾기
  - `/Hello/.exec("Hello, World")`
  - `/Hello/.exec("hello, World")` (대소문자 구별하므로 찾는 값이 없다)
- 앞/뒤에서 시작하는 문자열 찾기
  - 앞에서 시작하는 패턴(`^`) `/^Hello/.exec("Hello, World")`
  - 뒤에서 시작하는 패턴(`$`) `/Hello$/.exec("World, Hello")`
- 정규표현식에 사용되는 문자열을 검색할 때
  - 백슬래쉬로 패턴이 아닌 문자로 인식 `/\$/.exec("$$abc123$$")`
  - `$`로 시작하는 문자열 `/^\$/.exec("$$abc123$$")`
  - `$`로 끝나는 문자열 `/\$$/.exec("$$abc123$$")`
- 어떤 문자든 찾는 패턴(`.`)
  - 하나의 어떤 문자를 찾는 패턴 `/./.exec("a")`
  - 6글자의 어떤 문자를 찾는 패턴 `/....../.exec("abcdef")`
  - 문자열에서 .을 찾는 패턴 `/\./.exec("O.K.")`
  - 문자열에서 `.X.`(X는 어떤 문자열이든 가능) 찾는 패턴 `/\..\./.exec("O.K.")`
- [] 패턴
  - 문자열에서 o나 y나 u가 들어간 문자열을 찾는 패턴 `/[oyu]/.exec("i love you")`
  - d나 H로 시작하는 2개의 문자를 찾는 패턴 `/[dH]./.exec("How do you do")`
  - o,w,y에 해당하는 문자 하나와 y,o,w에 해당하는 문자가 결합된 문자열 `/[owy][yow]/.exec("How do you do")`
- 범위 패턴 [-]
  - C와 K 사이에 있는 문자를 포함하는 문자열 `/[C-K]/.exec("ABCDEFGHIJKLMNOPQR")`
  - 숫자 2, 6사이에 있는 문자를 포함하는 문자열 `/[2-6]/.exec("29")`
  - C와 K, a와 d, 2에서 6까지 문자를 포함하는 문자열 `/[C-Ka-d2-6]/.exec("29")`
  - ^이 범위패턴에 있을 경우 not을 의미
    - A,B,4,5가 아닌 문자가 있는 문자열 `/[^AB45]/.exec("CDEF123")`
    - A에서 K까지 포함되지 않은 문자열 `/[^A-K]/.exec("WYZ")`
- 서브패턴
  - Monday나 TuesDay나 Friday를 가진 문자열: `/(Monday|Tuesday|Friday)/.exec("Monday Tuesday Friday")`
  - 위랑 동일한 결과를 나타내는 다른 패턴 `/(Mon|Tues|Fri)day/.exec("Monday Tuesday Friday")`
  - 위랑 동일한 결과를 나타내는 다른 패턴 `/..(n|es|i)day/.exec("Monday Tuesday Friday")`
- 수량자 (어떤 패턴이 얼마나 등장하는가)
  - `*`: \* 앞에 오는 문자가 0 ~ 여러개
    - `/a*b/.exec("aaaab ab b")`
    - 모든 텍스트를 선택 `/.*/.exec("abcdef123213123ABCDE#*@$&*%*@#&$%@$#")`
    - -나 @이가 없거나 있는 문자열을 선택 `/[-@]*/.exec("-@-*** --'*'-- ***-@-")`
  - `+`: + 앞에 오는 문자가 1 ~ 여러개
    - `/a+b/.exec("aaab aab ab")`
    - `*`가 1개 이상 `/\*+/.exec("-@@@-***--'*'--***-@@@-")`
    - `--` 사이에 골뱅이가 하나 이상 `/-@+-/.exec("-@@@-***--'*'--***-@@@-")`
    - 공백이 아닌 문자가 하나 이상 `/[^ ]+/.exec("-@@@-***--'*'--***-@@@-")`
  - `?`: ? 앞에 오는 문자가 없거나 1개인 경우
    - `/a?b/.exec("ab b")`
  - `{}` 패턴
    - 어떤 문자든 5개 패턴 `/.{5}/.exec("abcde")`
    - 문자 e,l,s가 1개 이상 3개 이하 `/[els]{1,3}/.exec("he is really handsome")`
    - 문자 a~z까지 3개 이상 `/[a-z]{3,}/.exec("he is really handsome")`
  - 수량자의 동일한 패턴 예시
    - `AB*A` = `AB{0,}A`
    - `AB+A` = `AB{1,}A`
    - `AB?A` = `AB{0,1}A`
  - 수량자 뒤에 `?`가 나오는 경우
    - `*, +, ?` 뒤에 `?`가 나오면 각 수량자의 최소 값을 의미
    - `*?` 의 경우 0, `+?`의 경우 1, `??`의 경우 0
      - r 로만 시작하는 문자 `/r.*?/.exec("ring ding dong")`
      - r 다음 아무 문자로 시작하는 문자 `/r.+?/.exec("ring ding dong")`
- word
  - 단어 `(\w)` 패턴은 이 패턴과 동일 `[A-z0-9_]`
  - 알파벳, 숫자, \_가 포함된 문자 탐색 `/\w/.exec("A1 B2 c3 d_4 e:5 ffGG77--___--")`
  - a~z 사이의 문자가 오고 단어가 포함된 탐색 `/[a-z]\w*/.exec("A1 B2 c3 d_4 e:5 ffGG77--___--")`
  - 문자 5개 `/\w{5}/.exec("A1 B2 c3 d_4 e:5 ffGG77--___--")`
  - 단어가 아닌 것은 대문자 W (`\W`) -> 공백과 특수문자를 찾음
    - `/\W/.exec("A1 B2 c3 d_4 e:5 ffGG77--___--")`
  - 숫자의 경우 `\d` = `[0-9]`
  - 숫자가 아닌 문자와 특수문자는 `\D`
- 바운더리
  - 단어의 시작이나 끝의 바운더리를 지정 `\b`
  - `cat concat` 문자열이 있을 떄 `\bcat`은 앞의 문자 cat을 `cat\b`는 뒤에 concat의 cat을 지정
- (?=<pattern>)
  - `?=` 패턴이 있으면 문자열을 찾을때는 문자를 포함하지만 반환할 때 대입된 문자는 포함시키지 않는다.
  - `\w+(?=X)` 라는 패턴이 있다면 X앞에 문자가 1개 이상 포함된 문자열을 찾지만 반환할 때 X는 제외된다.

## 자주 사용되는 정규 표현식

- 핸드폰: `/^\d{3}-\d{3,4}-\d{4}$`
- 패스워드 (최소 8자 이상, 소문자/대문자/번호 최소 1개 포함, 특수문자 포함)
  - `^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$`
- 이메일: `/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/`

## 정규식 연습 사이트

- [regexr](https://regexr.com/): UI가 훨씬 깔끔. 설명이나 다른 사람들의 패턴 확인 가능
- [regex101](https://regex101.com/): 정규식과 내용을 통해 바로 확인 가능
