# 읽기 쉽고 코드 리뷰하기 좋은 코드 작성 가이드

- [책 링크](https://m.yes24.com/Goods/Detail/125977771)

## 가독성 높은 코드를 작성하는 법

### 생산성 개선

- 개발자들은 쓰는 것 보다 **`읽는 것에 개발 시간을 더 많이 할애한다`**.
- 코드를 읽을 읽이 많아진다는 것은 **`가독성을 높여야 생산성을 개선한다는 의미이다`**.

#### 개발 규모와 생산성의 관계

- 대규모 코드베이스에서 버그가 발생해서 코드 몇 줄을 수정하게 되었다.
  - **`가독성이 충분히 높으면 영향 범위를 쉽게 확인하고 안전하게 수정할 수 있다`**.
  - 가독성이 낮은 상황에서는 영향 범위를 확인하는데만 시간이 오래 걸리고, 또 다른 버그를 만들 수 있다.
- 장기간에 걸친 SW 개발은 코드를 계속 변경하며 성장해야 한다.
  - **`이해하기 쉽고 안정된 코드베이스가 성장을 이어가기 위한 열쇠다`**.
  - 코드를 이해하기 어렵다면 새로운 가치를 창출하는게 어려워지며, 인원을 추가로 투입해도 성과를 얻을 수 없다.
- 결국 **`코드의 가독성은 지속 가능한 개발 환경을 만드는데 큰 도움이 된다`**.

#### 가독성을 높이기 위한 환경과 평가 체계

- 만약 **`팀이 개발속도(구현한 기능의 수와 규모) 만으로 개발자를 평가하면`**, 팀 전체의 생산성을 높일 수 있는 동기를 부여하기 어렵다.
- 개발자 A,B 가 있다. A는 시간이 들더라도 가독성이 높은 코드를, B는 짧은 시간에 코드를 작성하는 중점을 둔다.
  - 결국 A도 더 좋은 평가를 받기 위해 가독성을 고려하지 않고 빠르게 개발하는 것만 신경쓰게 된다.
- 개발한 기능의 개수와 규모만으로 개발자를 평가해서는 안 되며, 생산성에 미치는 기여도를 고려한 제도도 필요하다.

### 가독성 높은 코드를 작성하기 위한 요건

#### 가독성을 높이기 위해 주의할 점

- 지식과 기술의 선택
  - 수단과 목적을 혼동해 **`무턱대고 신기술을 도입하면 오히려 코드나 설계의 품질이 떨어질 수 있다`**.
  - 프로그래밍 패러다임과 환경은 시대에 따라 변화하기 때문에 무조건적으로 적용하기 보다 상황에 따라 적절히 선택하자.
- 가치와 복잡도의 균형
  - 기능이 늘어날수록 복잡해지기 때문에, **`복잡도만 높일 뿐 가치가 없는 기능을 구현하는 일은 피해야 한다`**.
  - 가치를 바꾸지 않는 선에서 요구사항을 변경하여 구현에 필요한 코드의 양을 줄이는 것은 매우 필요하다.
  - 개발자는 요구사항을 수립하는 자리에서 복잡도 관점에서 의견을 적극적으로 제시해야 한다.

### 대표적인 프로그래밍 원칙

- **`가독성을 높이기 위해 제시된 프로그래밍 원칙들이 있다`**.
- 유용한 원칙도 무분별하게 적용하면 가독성을 떨어뜨린다. 비교적 부작용이 적은 원칙 다섯 가지를 소개한다.
  - 보이스카우트 원칙
  - YAGNI
  - KISS
  - 단일 책임의 원칙
  - 성급한 최적화는 모든 악의 근원

#### 보이스카우트 원칙

- 코드를 변경할 때 변경 전 보다 코드를 더 나아진 상태로 만들려고 노력한다는 원칙

#### YAGNI (You Aren't Gonna Need It)

- 그런 건 필요하지 않아를 뜻하며, **`미래를 위한 현재 필요하지 않은 기능을 미리 구현해도 정작 사용되지 않는다는 의미다`**.
- YAGNI를 준수하지 않는 코드로, 사용되지 않는 코드나 과도하게 확장된 코드가 있다.
- 사용되지 않는 코드 예시
  - 참조되지 않는 변수 / 호출되지 않는 함수 / 주석 처리 된 코드
- 과도하게 확장된 코드
  - 호출하는 곳이 하나뿐인 공개 유틸리티 함수 / 자식 클래스가 하나뿐인 추상 클래스

#### KISS (Keep It Simple Stupid)

- 단순하게 만들라는 원칙이다.
- 단순히 **`라이브러리, 프레임워크, 디자인 패턴을 사용하고 싶어서 복잡하게 만들면 안 된다`**.
- 이미 프레임워크나 라이브러리에서 제공하는 기능을 재구현 하는 것도 코드를 복잡하게 만든다.
  - **`불필요한 것을 추가하지 않는 것이 단순함을 향한 지름길이다`**.
- 아름답고 우아한 코드가 반드시 가독성이 높다고 할 수는 없다.
  - 자신이 작성하기 편한 코드가 아닌, 다른 사람이 읽기 편한 코드인가에 주목하자.

#### 단일 책임의 원칙

- 클래스가 변경 되는 이유는 단 한 가지어야 한다는 원칙
- 클래스에 부여하는 책임과 역할은 오직 하나뿐이라는 의미도 지닌다.

#### 섣부른 최적화는 만악의 근원

- 컴퓨터 과학의 거장 도널드 커누스는 최적화의 97%는 쓸모없는 일이라고 주장한다.
  - 충분한 효과를 기대할 수 없는 최적화는 코드를 복잡하게 만들고 가독성을 떨어뜨리는 결과를 가져온다.
- **`코드를 복잡하게 만들지 않는 선에서 최적화는 허용된다`**. 또 최적화를 통해 코드를 간결하게 만들 수 있다면 너무 좋다.

### 정리

- 코드를 읽는 작업에 투입되는 비용은 실제로 매우 크다.
- 코드의 가독성을 높이면 제품의 성장 한계치를 높일 수 있다.
- 이를 실현하기 위해 개인의 평가 기준을 포함한 업무 환경 개선도 고려해야 한다.
