# 가상 면접 사례로 배우는 대규모 시스템 설계 기초

- [책 링크](https://product.kyobobook.co.kr/detail/S000001033116)

## 사용자 수에 따른 규모 확장성

- 천리길도 한 걸음부터라는 말이 있듯, 서버가 한 대인 간단한 시스템부터 설계해보자.
- 클라이언트는 웹과 앱이고 서버 한대와 DB 한 대가 있다.

  <img src="https://github.com/programmer-sjk/TIL/blob/main/images/architecture/system-design-interview/simple.png" width="500">

### 어떤 데이터베이스를 사용할 것인가?

- 전통적인 관계형 DB와 비관계형 DB 사이에서 고를 수 있다. 차이점을 알아보자.
- RDBMS는 데이터를 테이블과 열, 커럼으로 표현한다. SQL을 사용해 테이블을 관계에 따라 조인하여 합칠 수 있다.
- 비 관계형 DB는 NoSQL이라고 부른다. 키-값 저장소, 그래프 저장소, 컬럼 저장소, 문서 저장소가 대표적이다.
- 대부분 RDBMS가 최선일텐데 그 이유는 40년 이상 시장에서 살아남아 작동해온 시스템이기 때문이다.
- 그 외에도 아래 같은 경우 비 관계형 DB가 바람직한 선택일 수 있다.
  - 아주 낮은 지연시간이 요구됨
  - 다루는 데이터가 비정형이나 관계형 데이터가 아님 (schema가 고정되어 있지 않음)
  - 아주 많은 양의 데이터를 저장하고 조회할 필요가 있음

### 수직적 규모 확장 VS 수평적 규모 확장

- 수직적 규모 확장은 scale up 이며 서버에 고사양 자원(cpu, memory)를 확장하는 행위를 말한다.
- 수평적 규모 확장은 scale out 이며 더 많은 서버를 추가하여 성능을 개선하는 행위를 말한다.
- 서버로 유입되는 트래픽이 적을 때는 수직적 확장도 선택 방법이며 장점은 단순함이다. 하지만 수직적 확장은 자원을 무한대로 증설할 수 없는 한계가 있으며 장애에 대한 자동복구나 다중화 방안을 지원하지 않는다.
- 이런 이유로 대규모 애플리케이션을 지원하는 데는 수평적 규모 확장이 보다 적절하다.
- 앞에 간단한 시스템 설계에서는 사용자가 웹 서버에 바로 연결된다. 너무 많은 사용자가 접속하면 부하가 심하기 때문에 로드밸런서를 도입해야 한다.
